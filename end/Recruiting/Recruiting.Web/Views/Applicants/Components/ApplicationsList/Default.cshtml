@model ApplicationList

@{
}

<div class="table-responsive">
    <table class="table table-striped table-dark">
        <thead>
            <tr class="table-primary">
                <th>
                    @Html.DisplayNameFor(model => model.Applications.FirstOrDefault().JobTitle)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Applications.FirstOrDefault().JobReference)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Applications.FirstOrDefault().ApplicationDate)
                </th>
                <th class="d-flex justify-content-center">
                    <a class="btn btn-sm" asp-controller="Applications" asp-action="Add" title="Add application" asp-route-applicantId="@Model.ApplicantId">
                        <i class="fas fa-plus text-white"></i>
                    </a>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var application in Model.Applications)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => application.JobTitle)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => application.JobReference)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => application.ApplicationDate)
                    </td>
                    <td class="d-flex justify-content-center">
                        <form class="delete-application" asp-action="Delete" asp-controller="Applications" method="post" onclick="return confirm('Do you really want to delete this application?')">
                            <input type="hidden" asp-for="@application.ApplicantId" />
                            <input type="hidden" asp-for="@application.JobId" />
                            <button type="submit" class="btn btn-sm" title="Delete job">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
